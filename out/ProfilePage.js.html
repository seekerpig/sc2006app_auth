<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ProfilePage.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ProfilePage.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import Container from "@mui/material/Container";
import Card from "./UIComponents/Card";
import { Grid, Typography, Box, Button, Alert } from "@mui/material";
import { useAuth } from "../Control/SessionController";
import User from "../Entity/User";
import {
  retrieveProfile,
  retrieveUserGames,
} from "../Control/ProfileController";
import { useNavigate } from "react-router-dom";

/**
 * This method is called when the user accessed the Profile Page
 * @returns HTML
 */
export default function ProfilePage() {
  const { logout } = useAuth();
  const { currentUser } = useAuth();

  const navigate = useNavigate();
  if (currentUser === null) {
    setTimeout(function () {
      navigate("/login");
    }, 100);
  } else {
    console.log("User is right below here");
    const {
      error,
      isPending,
      user = new User(),
    } = retrieveProfile(currentUser.uid);
    console.log(error);
    console.log(isPending);
    const { games } = retrieveUserGames(currentUser.uid);
    console.log(games);

    const [logoutMsg, setLogOutMsg] = React.useState("");
    /**
     * This method will sign user out
     */
    const signOut = () => {
      logout();
      setLogOutMsg("Successfully Logged Out. Redirecting...");
      setTimeout(function () {
        navigate("/");
      }, 2000);
    };
    return (
      &lt;Container>
        {user &amp;&amp; (
          &lt;Box
            sx={{
              display: "flex",
              backgroundColor: "#ffffff",
              padding: 2,
              paddingBottom: "5rem",
            }}
          >
            &lt;Grid
              container
              direction="column"
              justifyContent="center"
              alignItems="center"
            >
              &lt;Grid item sx={{ mb: 2 }}>
                &lt;Typography
                  gutterBottom
                  variant="overline"
                  align="center"
                  style={{ fontSize: "14px" }}
                >
                  &lt;b>My Profile&lt;/b>
                &lt;/Typography>
              &lt;/Grid>
              &lt;Grid item align="center">
                &lt;img
                  alt={user.getName()}
                  src={user.getProfileUrl()}
                  style={{
                    borderRadius: "50%",
                    marginBottom: "20px",
                    maxWidth: "100%",
                    minWidth: "60%",
                    height: "200px",
                    width: "200px",
                  }}
                />
              &lt;/Grid>
              &lt;Grid item>
                &lt;Typography align="center" gutterBottom variant="overline">
                  &lt;b>Name:&lt;/b> {user.getName()}{" "}
                &lt;/Typography>
              &lt;/Grid>
              &lt;Grid item>
                &lt;Typography align="center" gutterBottom variant="overline">
                  &lt;b>Email Address:&lt;/b> {user.getEmail()}{" "}
                &lt;/Typography>
              &lt;/Grid>
              &lt;Grid item>
                &lt;Typography
                  align="center"
                  style={{ marginBottom: "30px" }}
                  variant="overline"
                >
                  &lt;b>Phone Number:&lt;/b> {user.getPhoneNo()}{" "}
                &lt;/Typography>
              &lt;/Grid>
              &lt;Grid
                item
                align="center"
                mt={3}
                sx={{
                  width: { md: "80%", xs: "90%" },
                }}
              >
                &lt;Box
                  sx={{
                    backgroundColor: "#3563e9",
                    color: "#ffffff",
                    padding: "1.5rem",
                    borderRadius: "1rem",
                    boxShadow: 1,
                  }}
                >
                  &lt;Typography
                    gutterBottom
                    style={{
                      fontSize: "16px",
                      color: "#ffffff",
                      width: "100%",
                    }}
                  >
                    &lt;b>Description:&lt;/b>
                  &lt;/Typography>
                  &lt;Typography variant="subtitle1" style={{ fontSize: "14px" }}>
                    {user.getDescription()}
                  &lt;/Typography>
                &lt;/Box>
              &lt;/Grid>
            &lt;/Grid>
          &lt;/Box>
        )}
        &lt;Box
          sx={{
            //backgroundColor: '#ffffff',
            marginTop: "5rem",
            marginBottom: "5rem",
          }}
        >
          &lt;div style={{ textAlign: "center", marginBottom: "2rem" }}>
            &lt;Typography
              gutterBottom
              variant="overline"
              align="center"
              style={{ fontSize: "14px", marginBottom: "1rem" }}
            >
              &lt;b>My Games&lt;/b>
            &lt;/Typography>
          &lt;/div>

          {games &amp;&amp; &lt;Card games={games} />}
        &lt;/Box>
        &lt;div style={{ textAlign: "center", marginBottom: "1rem" }}>
          &lt;Button
            align="center"
            type="submit"
            variant="outlined"
            onClick={signOut}
            sx={{ mt: 3, mb: 2, width: "100px" }}
          >
            Logout
          &lt;/Button>
          {logoutMsg !== "" &amp;&amp; &lt;Alert severity="success">{logoutMsg}&lt;/Alert>}
        &lt;/div>
      &lt;/Container>
    );
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Sat Oct 15 2022 18:22:26 GMT+0800 (Singapore Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
